openapi: 3.0.3
info:
  title: Rental Soulmate
  description: This is API documentation for example project Rental Soulmate By Alfian Aditya

  version: 1.0.0
  contact:
    name: Alfian Aditya
    email: alfianadityadwi@gmail.com
servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/icxz1/Rental-Soulmate/1.0.0

tags:
  - name: Users
  - name: Talents
  - name: Posts
  - name: Whistlists
  - name: Bookings

paths:
  /users/register:
    post:
      tags:
        - "Users"
      description: user register new account
      summary: register new user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Chizuru Ichinose"
                date_of_birth:
                  type: string
                  example: "01-04-1996"
                phone_number:
                  type: string
                  example: "0888444222"
                email:
                  type: string
                  format: email
                  example: "chizichi@example.com"
                password:
                  type: string
                  format: password
                  example: "chizichi123"
      responses:
        201:
          description: success create account
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  name: "Chizuru Ichinose"
                  date_of_birth: "01-04-1996"
                  phone_number: "0888444222"
                  email: "chizichi@example.com"
                  password: "chizichi123"
                message: success creating account
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

  /users/login:
    post:
      tags:
        - "Users"
      description: login to platform
      summary: login for user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  example: "chizichi@example.com"
                password:
                  type: string
                  format: password
                  example: "chizichi123"
      responses:
        200:
          description: success login
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 1
                  name: "Chizuru Ichinose"
                  email: "chizichi@example.com"
                  token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdXRob3JpemVkIjp0cnVlLCJ1c2VySUQiOjR9.QTZxERh4CwC_UnL_eJvTi_A_qdLeBZ-IjR4nqoxjodk"
                message: login success
        404:
          description: "account data not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "account data not found"
        500:
          $ref: "#/components/responses/500"

  /home:
    get:
      tags:
        - "Users"
      description: get all talents contents
      summary: get all talents contents in homepage
      responses:
        200:
          description: show all talents post contents
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObjectArr"
              example:
                data:
                  - id: 1
                    image: ""
                    area: "Shibuya"
                    date: "11-02-2023"
                    time: "13.00 - 15.00"
                    talents:
                      id_talents: 1
                      name: "Megumi Horizka"
                      age: 22
                      gender: "female"
                      profile_photo: ""
                  - id: 2
                    image: ""
                    area: "Shinjuku"
                    date: "11-02-2023"
                    time: "18.00 - 20.00"
                    talents:
                      id_talents: 2
                      name: "Hori Kurima"
                      age: 20
                      gender: "female"
                      profile_photo: ""
                  - id: 3
                    image: ""
                    area: "Tokyo"
                    date: "11-02-2023"
                    time: "17.00 - 19.00"
                    talents:
                      id_talents: 3
                      name_talent: "Toru Inikawa"
                      age: 23
                      gender: "male"
                      profile_photo: ""
                  - id: 4
                    image: ""
                    area: "Shibuya"
                    date: "12-02-2023"
                    time: "08.00 - 09.00"
                    talents:
                      id_talents: 4
                      name_talent: "Lisa Kanakawa"
                      age: 21
                      gender: "female"
                      profile_photo: ""
                message: success show all talents contents
        404:
          description: "data not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "data not found"
        500:
          $ref: "#/components/responses/500"

  /users:
    put:
      tags:
        - "Users"
      description: update profile user
      summary: update or edit information profile for user
      security:
        - JWTAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Chizuru Ichinose"
                date_of_birth:
                  type: string
                  example: "01-04-1996"
                phone_number:
                  type: string
                  example: "0888444222"
                profile_photo:
                  type: string
                  example: ""
                email:
                  type: string
                  format: email
                  example: "chizichi@example.com"
                password:
                  type: string
                  format: password
                  example: "chizichi123"
      responses:
        201:
          description: success update account information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 1
                  name: "Chizuru Ichinose"
                  date_of_birth: "01-04-1996"
                  phone_number: "0888444222"
                  profile_photo: ""
                  email: "chizichi@example.com"
                  password: "chizichi123"
                message: success update account information
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

    delete:
      tags:
        - "Users"
      description: delete user account
      summary: delete account
      security:
        - JWTAuth: []
      responses:
        200:
          description: success delete account
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                message: success delete account
        404:
          description: "account not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "account not found"
        500:
          $ref: "#/components/responses/500"

    get:
      tags:
        - "Users"
      description: getting account information
      summary: Get account information
      security:
        - JWTAuth: []
      responses:
        200:
          description: success show account profile
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 1
                  name: "Chizuru Ichinose"
                  email: "chizichi@example.com"
                  date_of_birth: "01-04-1996"
                  phone_number: "0888444222"
                  password: "chizichi123"
                  profile_photo: ""
                message: success show profile
        404:
          description: "account data not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "account data not found"
        500:
          $ref: "#/components/responses/500"

  /talents/register:
    post:
      tags:
        - "Talents"
      description: talent must register first
      summary: register for talent
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Julien Angel"
                bio:
                  type: string
                  example: "Cheers up, hypocratic people"
                gender:
                  type: string
                  example: "male"
                date_of_birth:
                  type: string
                  example: "02-12-1995"
                area:
                  type: string
                  example: "Shibuya"
                phone_number:
                  type: string
                  example: "0888222555"
                profile_photo:
                  type: string
                  example: ""
                email:
                  type: string
                  format: email
                  example: "anjul@example.com"
                password:
                  type: string
                  format: password
                  example: "anjul123"
      responses:
        201:
          description: success create account talent
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 5
                  name: "Julien Angel"
                  bio: "Cheers up, hypocratic people"
                  gender: "male"
                  date_of_birth: "02-12-1995"
                  area: "Shibuya"
                  phone_number: "0888222555"
                  profile_photo: ""
                  email: "anjul@example.com"
                  password: "anjul123"
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

  /talents/login:
    post:
      tags:
        - "Talents"
      description: login talent account
      summary: login for talent account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  example: "anjul@example.com"
                password:
                  type: string
                  format: password
                  example: "anjul123"
      responses:
        200:
          description: success login to talent account
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 5
                  name: "Julien Angel"
                  email: "anjul@example.com"
                  token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdXRob3JpemVkIjp0cnVlLCJ1c2VySUQiOjR9.QTZxERh4CwC_UnL_eJvTi_A_qdLeBZ-IjR4nqoxjodk"
                message: success login
        404:
          description: "account data not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "account data not found"
        500:
          $ref: "#/components/responses/500"

  /talents:
    get:
      tags:
        - "Talents"
      description: get detail talent information
      summary: show detail talent information
      security:
        - JWTAuth: []
      responses:
        200:
          description: success show detail account
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 5
                  name: "Julien Angel"
                  bio: "Cheers up, hypocratic people"
                  gender: "male"
                  date_of_birth: "02-12-1995"
                  area: "Shibuya"
                  phone_number: "0888222555"
                  profile_photo: ""
                  email: "anjul@example.com"
                message: success show detail account
        404:
          description: "account data not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "account data not found"
        500:
          $ref: "#/components/responses/500"

    put:
      tags:
        - "Talents"
      description: talent can edit their porfile information
      summary: update profile talent information
      security:
        - JWTAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Juliana Aan"
                bio:
                  type: string
                  example: "Coffe and Croissant never fail make good mood"
                area:
                  type: string
                  example: "Shinjuku"
                phone_number:
                  type: string
                  example: "0888222555"
                profile_photo:
                  type: string
                  example: ""
                email:
                  type: string
                  format: email
                  example: "anjul@example.com"
                password:
                  type: string
                  format: password
                  example: "anjul123"
      responses:
        201:
          description: success update data account
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 5
                  name: "Juliana Aan"
                  bio: "Coffe and Croissant never fail make good mood"
                  area: "Shinjuku"
                  phone_number: "0888222555"
                  profile_photo: ""
                  email: "anjul@example.com"
                  password: "anjul123"
                message: success update data
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

    delete:
      tags:
        - "Talents"
      description: delete talent account data
      summary: delete talent account
      security:
        - JWTAuth: []
      responses:
        200:
          description: success delete account
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                message: success delete account
        404:
          description: "account not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "account not found"
        500:
          $ref: "#/components/responses/500"

  /posts:
    post:
      tags:
        - "Posts"
      description: talents can create post for booking schedule
      summary: create post for talents
      security:
        - JWTAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  example: ""
                content:
                  type: string
                  example: "Wanna hang out with me @ Shinjuku tomorrow?"
                area:
                  type: string
                  example: "Shinjuku"
                date:
                  type: string
                  example: "02-04-2023"
                time:
                  type: string
                  example: "17.00 - 19.00"
      responses:
        201:
          description: success create post
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 1
                  image: ""
                  content: "Wanna hang out with me @ Shinjuku tomorrow?"
                  area: "Shinjuku"
                  date: "02-04-2023"
                  time: "17.00 - 19.00"
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

    delete:
      tags:
        - "Posts"
      description: talent can delete posts for booking schedule
      summary: delete talent posts
      security:
        - JWTAuth: []
      responses:
        200:
          description: success delete post
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                message: success delete post
        404:
          description: "data not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "data not found"
        500:
          $ref: "#/components/responses/500"

    put:
      tags:
        - "Posts"
      description: talent can edit their post content
      summary: edit post
      security:
        - JWTAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
                  example: "Wanna hang out with me @ Shinjuku tomorrow?"
                area:
                  type: string
                  example: "Shinjuku"
                date:
                  type: string
                  example: "02-04-2023"
                time:
                  type: string
                  example: "17.00 - 19.30"
      responses:
        201:
          description: success update post
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 1
                  image: ""
                  content: "Wanna hang out with me @ Shinjuku tomorrow?"
                  area: "Shinjuku"
                  date: "02-04-2023"
                  time: "17.00 - 19.30"
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

  /whistlists:
    post:
      tags:
        - "Whistlists"
      description: user can add talents to whistlist
      summary: add talent to whistlist
      security:
        - JWTAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                talents_id:
                  type: number
                  example: 1
                talents_name:
                  type: string
                  example: "Julian Aan"
                profile_photo:
                  type: string
                  example: ""
                gender:
                  type: string
                  example: "female"
                age:
                  type: number
                  example: 23
                area:
                  type: string
                  example: "Shinjuku"
      responses:
        201:
          description: success add talent to whistlist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 1
                  talents_id: 1
                  talents_name: "Julian Aan"
                  profile_photo: ""
                  gender: "female"
                  age: 23
                  area: "Shinjuku"
                message: success add talent to whistlist
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

    get:
      tags:
        - "Whistlists"
      description: user can see all talents in their whistlist
      summary: see all talents in whistlist
      security:
        - JWTAuth: []
      responses:
        200:
          description: success show all talents
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObjectArr"
              example:
                data:
                  id: 1
                  user_id: 1
                  talents:
                    - talents_id: 2
                      name: "Hori Kurima"
                      age: 20
                      gender: "female"
                      profile_photo: ""
                    - talents_id: 4
                      name_talent: "Lisa Kanakawa"
                      age: 21
                      gender: "female"
                      profile_photo: ""
                message: success show all talents
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

    delete:
      tags:
        - "Whistlists"
      description: delete talent from whistlist
      summary: delete talent from whistlist
      security:
        - JWTAuth: []
      responses:
        200:
          description: success delete talent from whistlist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                message: success delete talent from whistlist
        404:
          description: "data not found"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: "data not found"
        500:
          $ref: "#/components/responses/500"

  /bookings:
    post:
      tags:
        - "bookings"
      description: add booking to payment gateway
      summary: add booking to payment gateway
      security:
        - JWTAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                total_price:
                  type: number
                  example: 80000
      responses:
        201:
          description: order payment created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/responseObject"
              example:
                data:
                  id: 1
                  user_id: 1
                  talent_id: 2
                  total_price: 80000
                  create_at: "2023-02-06T02:11:48"
                  redirect_url: "https://app.sandbox.midtrans.com/snap/v3/redirection/b95128fb-f2ef-4e57-bd89-c4a187cca536"
                  status_order: "waiting for payment"
                message: order payment created
        400:
          $ref: "#/components/responses/400"
        500:
          $ref: "#/components/responses/500"

components:
  schemas:
    responseObject:
      type: object
      properties:
        data:
          type: object
        message:
          type: string
    responseObjectArr:
      type: object
      properties:
        data:
          type: array
          items:
            type: object
        message:
          type: string

  securitySchemes:
    JWTAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: "user token"
  responses:
    400:
      description: "error from user"
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
          example:
            message: "invalid input"
    500:
      description: "error from server"
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            example:
              message: "error from server"
